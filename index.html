<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Animal spelling</title>
    <link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"
        integrity="sha256-VeNaFBVDhoX3H+gJ37DpT/nTuZTdjYro9yBruHjVmoQ=" crossorigin="anonymous"></script>
</head>

<body class="sans-serif">
    <div id="app" class="pa2 pa4-ns ma0">
        <h1 class="tc f3 f1-ns">Spell an animal</h1>
        <div class="tc bb bw2">
            <input class="bn f3 f1-ns pa3 tc w-100 tracked-mega" v-model="typedInput" 
                autocapitalize="off" 
                autocomplete="off"
                spellcheck="false" 
                autocorrect="off"
                pattern="[A-Za-z -]+" />
        </div>
        <div v-if="numCompleted" class="">
            <p class="f4 f2-l" v-if="numCompleted == 1">You've found <strong>1</strong> animal. Keep going!</p>
            <p class="f4 f2-l" v-else-if="numRemaining == 0">You've found all <strong>{{ numCompleted }}</strong> animals. Well done!</p>
            <p class="f4 f2-l" v-else-if="numRemaining < 10">You've found <strong>{{ numCompleted }}</strong> animals. Only {{ numRemaining }} left!</p>
            <p class="f4 f2-l" v-else>You've found <strong>{{ numCompleted }}</strong> animals.</p>
            <ul class="list pa0 ma0">
                <li v-for="(emoji, index) in completedEmoji" class="pa0 ml0 mt0 dib mr2 mr4-ns mb2 mb3-ns">
                    <span v-if="index == 0" class="f1">{{ emoji[0] }}</span>   
                    <span v-else class="f2">{{ emoji[0] }}</span>
                    <span v-if="index == 0" class="tracking-mega f3 f1-ns">{{ emoji[1] }}</span>
                    <span v-else class="tracking-mega f4 f2-ns">{{ emoji[1] }}</span>
                </li>
            </ul>
        </div>
        <div v-if="numRemaining" class="mt4">
            <p class="f4 f2-l">Here's some ideas!</p>
            <ul class="list pa0 ma0">
                <li v-for="emoji in remainingEmojis.slice(0,5)" class="pa0 ml0 mt0 dib mr2 mr4-ns mb2 mb3-ns">
                    <span class="f2" style="opacity: 0.6;" v-bind:title="emoji[1]">{{ emoji[0] }}</span>
                    <!-- <span class="tracking-mega f2">{{ emoji[1] }}</span> -->
                </li>
            </ul>
        </div>
    </div>
    <script>
        var EMOJIS = [
            ["ðŸ’", "Monkey"],
            ["ðŸ¦", "Gorilla"],
            ["ðŸ¦§", "Orangutan"],
            ["ðŸ•", "Dog"],
            // ["ðŸ¶", "Dog"],
            ["ðŸ©", "Poodle"],
            ["ðŸº", "Wolf"],
            ["ðŸ¦Š", "Fox"],
            ["ðŸ¦", "Raccoon"],
            ["ðŸˆ", "Cat"],
            // ["ðŸ±", "Cat"],
            ["ðŸ¦", "Lion"],
            ["ðŸ¯", "Tiger"],
            ["ðŸ†", "Leopard"],
            ["ðŸŽ", "Horse"],
            ["ðŸ¦„", "Unicorn"],
            ["ðŸ¦“", "Zebra"],
            ["ðŸ¦Œ", "Deer"],
            ["ðŸ‚", "Ox"],
            // ["ðŸƒ", "Water Buffalo"],
            ["ðŸ„", "Cow"],
            ["ðŸ–", "Pig"],
            ["ðŸ—", "Boar"],
            ["ðŸ‘", "Sheep"],
            ["ðŸ", "Goat"],
            ["ðŸª", "Camel"],
            ["ðŸ¦™", "Llama"],
            ["ðŸ¦’", "Giraffe"],
            ["ðŸ˜", "Elephant"],
            ["ðŸ¦", "Rhino"],
            ["ðŸ¦›", "Hippo"],
            ["ðŸ", "Mouse"],
            ["ðŸ€", "Rat"],
            ["ðŸ¹", "Hamster"],
            ["ðŸ°", "Rabbit"],
            ["ðŸ¿", "Chipmunk"],
            ["ðŸ¦”", "Hedgehog"],
            ["ðŸ¦‡", "Bat"],
            ["ðŸ»", "Bear"],
            ["ðŸ¨", "Koala"],
            ["ðŸ¼", "Panda"],
            ["ðŸ¦¥", "Sloth"],
            ["ðŸ¦¦", "Otter"],
            ["ðŸ¦¨", "Skunk"],
            ["ðŸ¦˜", "Kangaroo"],
            ["ðŸ¦¡", "Badger"],
            ["ðŸ¦ƒ", "Turkey"],
            ["ðŸ”", "Chicken"],
            ["ðŸ“", "Rooster"],
            ["ðŸ¤", "Chick"],
            ["ðŸ¦", "Bird"],
            ["ðŸ§", "Penguin"],
            ["ðŸ•Š", "Dove"],
            ["ðŸ¦…", "Eagle"],
            ["ðŸ¦†", "Duck"],
            ["ðŸ¦¢", "Swan"],
            ["ðŸ¦‰", "Owl"],
            ["ðŸ¦©", "Flamingo"],
            ["ðŸ¦š", "Peacock"],
            ["ðŸ¦œ", "Parrot"],
            ["ðŸ¸", "Frog"],
            ["ðŸŠ", "Crocodile"],
            ["ðŸ¢", "Turtle"],
            ["ðŸ¦Ž", "Lizard"],
            ["ðŸ", "Snake"],
            ["ðŸ‰", "Dragon"],
            ["ðŸ¦•", "Sauropod"],
            ["ðŸ¦–", "T-Rex"],
            ["ðŸ³", "Whale"],
            ["ðŸ¬", "Dolphin"],
            ["ðŸŸ", "Fish"],
            // ["ðŸ ", "Tropical Fish"],
            // ["ðŸ¡", "Blowfish"],
            ["ðŸ¦ˆ", "Shark"],
            ["ðŸ™", "Octopus"],
            ["ðŸŒ", "Snail"],
            ["ðŸ¦‹", "Butterfly"],
            ["ðŸ›", "Caterpillar"],
            ["ðŸœ", "Ant"],
            ["ðŸ", "Bee"],
            ["ðŸž", "Ladybird"],
            ["ðŸ¦—", "Cricket"],
            ["ðŸ•·", "Spider"],
            ["ðŸ¦‚", "Scorpion"],
            ["ðŸ¦Ÿ", "Mosquito"],
            ["ðŸ¦€", "Crab"],
            ["ðŸ¦ž", "Lobster"],
            ["ðŸ¦", "Shrimp"],
            ["ðŸ¦‘", "Squid"],
        ];
        var app = new Vue({
            el: '#app',
            data: {
                typedInput: "",
                message: 'Hello Vue!',
                emojis: _.shuffle(EMOJIS),
                selectedEmoji: null,
                completedEmoji: [],
            },
            computed: {
                numCompleted: function () {
                    return this.completedEmoji.length;
                },
                numRemaining: function () {
                    return this.remainingEmojis.length;
                },
                remainingEmojis: function () {
                    var completedEmoji = this.completedEmoji.map((el) => el[0]);
                    return this.emojis.filter((el) => !completedEmoji.includes(el[0]));
                }
            },
            methods: {
                selectEmoji: function (event) {
                    event.preventDefault();
                    this.selectedEmoji = this.emojis.find((el) => el[0] == event.target.innerText);
                }
            },
            watch: {
                typedInput: function (val, oldVal) {
                    this.typedInput = val.toLowerCase();
                    this.selectedEmoji = this.remainingEmojis.find((e) => (
                        (e[1].toLowerCase().trim() == val.toLowerCase().trim()) ||
                        (e[0] == val.trim())
                    ));
                    if (this.selectedEmoji) {
                        this.completedEmoji.unshift(this.selectedEmoji);
                        this.typedInput = '';
                    }
                }
            }
        })
    </script>
</body>

</html>